<nav id="nav" class="navbar fixed-top navbar-expand-lg navbar-dark flex-column ">
        <div class="container flex-row">
            <a class="navbar-brand" href="/">
                <img src="{{ static_url("img/logo.png") }}" width="165" height="40" class="d-inline-block align-top" alt="Edu">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse navbar-nav-scroll" id="navbarSupportedContent" role="navigation" aria-label="Main Navigation">
                <ul class="navbar-nav mr-2 flex-fill">
                    <li class="nav-item">
                        <a class="nav-link" href="/start-here/">Start&nbsp;Here</a>
                    </li>
                
                </ul>
                <div class="d-block d-xl-none">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/search" title="Search"><span class="d-block d-lg-none"><i class="fa fa-search" aria-hidden="true"></i> Search</span><span class="d-none d-lg-block"><i class="fa fa-search" aria-hidden="true"></i></span></a>
                        </li>
                    </ul>
                </div>
                <div class="d-none d-xl-flex align-items-center mr-2">
                    <form class="form-inline" action="/search" method="GET">
                        <a class="js-search-form-submit position-absolute" href="/search" title="Search"><i class="fa fa-search fa-fw text-muted pl-2" aria-hidden="true"></i></a>
                        <input class="search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength="50" type="search" placeholder="Search" aria-label="Search" name="q">
                        <input type="hidden" name="_from" value="nav">
                    </form>
                </div>
                <ul class="navbar-nav">
                    <li class="nav-item form-inline" style="color:azure;margin-right:1rem">
                       ${email}
                    </li>
                    <li class="nav-item form-inline" v-if="token" style="margin-right:1rem">
                       <button @click="signout" type="button" style="background-color: #04AA6D;color: #ffffff;border:0px;border-radius: 10px;padding:5px;">Sign-out</button>
                    </li>
                    <li class="nav-item form-inline">
                        <a class="ml-2 ml-lg-0 btn btn-sm btn-primary px-3" href="/sign_on/">Join</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn text-light" href="/sign_in/">Sign‑In</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <script>


axios.defaults.headers.common['token'] = localStorage.getItem("token");
const myaxios = function (url, type, data = {}) {

    return new

        Promise((resolve) => {

            if (type === "get" || type === "delete") {


                axios({

                    method: type,
                    url: url,
                    params: data
                }).then((result) => {

                    resolve(result.data);

                });


            } else {

                const params = new URLSearchParams();
                for (var key in data) {
                params.append(key,data[key]);
                }
                axios({

                    method: type,
                    url: url,
                    data:params
                }).then((result) => {

                    resolve(result.data);

                });

            }

        });

}


const App_nav = {
            data() {
                return {

                    email:localStorage.getItem("email"),
                    token:localStorage.getItem("token"),

                };
            },
            created: function() {
            },
            methods: {
                //登出
                signout:function(){

                        localStorage.removeItem("token");
                        localStorage.removeItem("email");
                        window.location.href="/";

                }
            },
        };
const app_nav = Vue.createApp(App_nav);
app_nav.config.globalProperties.myaxios = myaxios;
app_nav.config.globalProperties.axios = axios;
app_nav.config.compilerOptions.delimiters = ['${', '}']
app_nav.mount("#nav");

    </script>